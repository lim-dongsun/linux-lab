# 🕓 4. 네트워크 & 쉘 스크립트 실습

## 🎯 목표

리눅스에서 **네트워크 명령어, curl 활용, wget 다운로드, 환경 변수, 쉘 스크립트, 반복문, 시스템 정보 조회, vim**을 익힌다.

* * *

# 💻 실습

## 🧩 실습 1 — ping 설치 + 네트워크 연결 확인

Ubuntu 최소 이미지에서는 ping 패키지가 없을 수 있으므로 설치가 필요합니다.

```bash
apt update && apt install -y iputils-ping curl
```

테스트:

```bash
ping -c 4 google.com
```

* * *

## 🧩 실습 2 — curl 기본 사용

```bash
curl https://example.com
curl ifconfig.me   # 공인 IP 확인
```

* * *

## 🧩 curl 테스트용 사이트 모음

| 사이트 | 용도  | 예시  |
| --- | --- | --- |
| [https://httpbin.org](https://httpbin.org) | GET/POST/헤더/리다이렉트 테스트 | `curl https://httpbin.org/get` |
| [https://postman-echo.com](https://postman-echo.com) | GET/POST 테스트 | `curl https://postman-echo.com/get?foo=bar` |
| [https://ifconfig.me](https://ifconfig.me) | 공인 IP 확인 | `curl ifconfig.me` |
| [https://example.com](https://example.com) | 단순 HTML 다운로드 | `curl https://example.com` |

* * *

## 🧩 curl 유용한 옵션 실습 

### ✔ `-v` : 상세 로그 출력

```bash
curl -v https://httpbin.org/get
```

### ✔ `-I` : 응답 헤더만 가져오기

```bash
curl -I https://example.com
```

### ✔ `-L` : 리다이렉트 따라가기

```bash
curl -L https://httpbin.org/redirect/2
```

### ✔ `-H` + `-d` : 헤더 추가 + POST JSON

```bash
curl -v -X POST https://httpbin.org/post   -H "Content-Type: application/json"   -d '{"name":"linux-user"}'
```

* * *

## 🧩 curl 다운로드 

example.com 의 index.html 다운로드:

```bash
curl -o index.html https://www.example.com/
```

혹은 URL 그대로 파일명으로 저장하고 싶다면:

```bash
curl -O https://www.example.com/index.html
```

다운로드 확인:

```bash
ls -l
cat index.html
```

* * *

## 🧩 실습 3 — wget 다운로드 

```bash
wget https://www.example.com/
```

index.html 확인:

```bash
ls -l
cat index.html
```

* * *

## 🧩 실습 4 — 환경 변수 확인 & 설정

```bash
cd ~
pwd
/root #확인

echo $PATH
export MYNAME="linux-user"
echo $MYNAME
echo 'export MYNAME="linux-user"' >> ~/.bashrc
vim .bashrc
```

* * *

## 🧩 실습 5 — vim 기본 사용법

### vim 기본 조작

| 명령  | 설명  |
| --- | --- |
| `i` | INSERT 모드 |
| `Esc` | NORMAL 모드 |
| `:w` | 저장  |
| `:q`  or `:q!` | 종료  |
| `:wq` | 저장 후 종료 |
| `dd` | 줄 삭제 |
| `yy` | 줄 복사 |
| `p` | 붙여넣기 |

### 단어 이동 단축키

| 명령  | 기능  |
| --- | --- |
| `w` | 다음 단어 시작 |
| `b` | 이전 단어 시작 |
| `e` | 단어 끝 |
| `0` | 줄 맨 앞 |
| `$` | 줄 맨 뒤 |

* * *

## 🧩 실습 6 — Hello World 스크립트

```bash
cat << 'EOF' > hello.sh
#!/bin/bash
echo "Hello World from Shell Script"
EOF

chmod +x hello.sh
./hello.sh
```

* * *

## 🧩 실습 7 — 날짜 기반 로그 자동 생성 스크립트

```bash
cat << 'EOF' > create_daily_log.sh
#!/bin/bash
TODAY=$(date +"%Y%m%d")
echo "Log created at $(date)" > log_$TODAY.txt
EOF

chmod +x create_daily_log.sh
./create_daily_log.sh
ls
```

* * *

## 🧩 실습 8 — 반복문 for

```bash
for i in {1..3}; do 
  echo "File $i" > file$i.txt
done
ls #files 확인
```

* * *

## 🧩 실습 9 — 조건문 if

```bash
cat << 'EOF' > check_disk.sh
#!/bin/bash
USE=$(df -h / | grep / | awk '{print $5}' | sed 's/%//')
if [ $USE -gt 70 ]; then
  echo "Warning: Disk usage high! ($USE%)"
else
  echo "Disk usage normal ($USE%)"
fi
EOF

chmod +x check_disk.sh
./check_disk.sh
```

* * *

## 🧩 실습 10 — 시스템 정보 조회

```bash
top
free -h
df -h
ps aux
```

* * *

# ⚠️ 주의 사항

- 스크립트 실행 시 `./script.sh` 사용
- 환경 변수는 export만 하면 세션 종료 시 사라짐 → `.bashrc`에 추가
- vim 사용 후 반드시 `:wq`로 저장